{"version":3,"file":"helpers-518c23d6.js","sources":["../../src/common/helpers.js"],"sourcesContent":["import axios from \"axios\";\n\n/**\n * @description Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds.\n *\n * @param {function} fn The function to be executed\n * @param {number} [wait] The time after which the function should be executed. Defaults to 300ms\n * @returns {fn} The debounced function\n */\nexport function debounce(callback, wait = 300) {\n  let timeout;\n\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => callback.apply(this, args), wait);\n  };\n}\n\nexport const apiCall = async (url, params, method = \"GET\") => {\n  try {\n    const { data } = await axios({ method, url, params });\n\n    return data;\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport const createID = () => Math.random().toString(36).substring(7);\n\nexport const LESSONS = \"lessons\";\nexport const ARROW_SRC =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABnUlEQVRoge3ZzUqVQRzH8U/iRbQweiCigjBcJEVBh6QwDILASNy2aNUtdAVeRVfRsstoEUgUKIEW5kvvLR6VGXmac44554wwX5jFMH+e+X2fd2aoVLJwJtNxp/Am6F/INE92GvwJWnYmRjHJKKgipVFFSqOKlEYVKY0qUhpVpDSqSGlUkdKoIqVRRUqjipTGMCKTWMG5TFmm8TLTsQ+ZwCvtYtuq/iuHjeEW6Gbwab925bghB2FeHOw9LibqG4OL3MBmUPsDV/8vbprn+BVMuJaYsDGYyG18Ceq+4fHJxE3zTCyzjmsddY3+InewJZZ4dLJx0yxpL/9BgA3MHqlppEXmsROMb+N+nrhpnuB7EOQzbgbjjX+LLGA3GPuKubxx0zzE3pFAd/fHGt0ii+ITsIXeSNL24YH47G7jnm6Rp+JbclP7xiqGnvih3cMLscgyfgb9DVwfQ9a+9MQyv8UiYT/12i6CW+JvQlf7gEvjCjgMs9rbpkti1SnbFA3/mw7aO5wfZ6jjcgUftRJvtdvVp5bLeI2z4w5SqVQq5fEXMTOSwvhqgGAAAAAASUVORK5CYII=\";\n\nexport async function updateLesson(lesson) {\n  try {\n    const stringifiedLessons = localStorage.getItem(LESSONS);\n    const lessons = JSON.parse(stringifiedLessons);\n\n    const newLessons = lessons.filter(item => item.id != lesson.id);\n    await localStorage.setItem(LESSONS, JSON.stringify([...newLessons, lesson]));\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n/**\n * Takes an array of artists and concats their names\n * @param {Object[]} artists\n *\n * @returns {string} Names separated by commas\n */\nexport const getArtists = artists =>\n  artists?.map(artist => artist.name).join(\", \") || \"John Doe\";\n\nexport async function authenticateSpotify() {\n  try {\n    // Needed as content-type means that the server expects tuples\n    const params = new URLSearchParams();\n    params.append(\"grant_type\", \"client_credentials\");\n\n    const credentials = await axios.post(\n      \"https://accounts.spotify.com/api/token\",\n      params,\n      {\n        headers: {\n          \"Content-type\": \"application/x-www-form-urlencoded\",\n          Authorization: `Basic ${btoa(SPOTIFY_ID + \":\" + SPOTIFY_SECRET)}`,\n        },\n      }\n    );\n\n    return credentials;\n  } catch (err) {\n    console.error(err);\n  }\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,QAAQ,CAAC,QAAQ,EAAE,IAAI,GAAG,GAAG,EAAE;AAC/C,EAAE,IAAI,OAAO,CAAC;AACd;AACA,EAAE,OAAO,CAAC,GAAG,IAAI,KAAK;AACtB,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC;AAC1B,IAAI,OAAO,GAAG,UAAU,CAAC,MAAM,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;AACjE,GAAG,CAAC;AACJ,CAAC;AACD;AACY,MAAC,OAAO,GAAG,OAAO,GAAG,EAAE,MAAM,EAAE,MAAM,GAAG,KAAK,KAAK;AAC9D,EAAE,IAAI;AACN,IAAI,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,KAAK,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC;AAC1D;AACA,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;AAC3B,GAAG;AACH,EAAE;AACF;AACY,MAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE;AACtE;AACY,MAAC,OAAO,GAAG,UAAU;AACrB,MAAC,SAAS;AACtB,EAAE,qqBAAqqB;AACvqB;AACO,eAAe,YAAY,CAAC,MAAM,EAAE;AAC3C,EAAE,IAAI;AACN,IAAI,MAAM,kBAAkB,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC7D,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;AACnD;AACA,IAAI,MAAM,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC,CAAC;AACpE,IAAI,MAAM,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AACjF,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACzB,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,OAAO;AACjC,EAAE,OAAO,EAAE,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,WAAW;AAC/D;AACO,eAAe,mBAAmB,GAAG;AAC5C,EAAE,IAAI;AACN;AACA,IAAI,MAAM,MAAM,GAAG,IAAI,eAAe,EAAE,CAAC;AACzC,IAAI,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,oBAAoB,CAAC,CAAC;AACtD;AACA,IAAI,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,IAAI;AACxC,MAAM,wCAAwC;AAC9C,MAAM,MAAM;AACZ,MAAM;AACN,QAAQ,OAAO,EAAE;AACjB,UAAU,cAAc,EAAE,mCAAmC;AAC7D,UAAU,aAAa,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,kCAAU,GAAG,GAAG,GAAG,kCAAc,CAAC,CAAC,CAAC;AAC3E,SAAS;AACT,OAAO;AACP,KAAK,CAAC;AACN;AACA,IAAI,OAAO,WAAW,CAAC;AACvB,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACvB,GAAG;AACH;;;;"}